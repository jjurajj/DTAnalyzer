<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:h="http://xmlns.jcp.org/jsf/html">
    <f:metadata>
        <f:event type="preRenderView" listener="#{userData.doNothing()}" />
    </f:metadata>
    <h:head>
        <title>DTAnalyzer index</title>
        <h:outputScript library="js" name="set_screen_size.js" />
        <h:outputScript library="js" name="jquery-1.12.4.min.js" />
    </h:head>
    <h:body>
        <f:view>
            <f:metadata>
                <f:event type="preRenderView" listener="#{StartValidator.check(WindowSize,Uploader.isValidated())}" />
            </f:metadata>
            
            <!--http://www.tutorialspoint.com/jsf/jsf_internationalization.htm-->
            <h:form>
                <h:commandLink action="#{userData.changeLanguage('hr')}" ><h:graphicImage value="/resources/images/hr.png" width="20" height="14" style="float:right; border-spacing: 20px;padding-left: 10px"/></h:commandLink>
                <h:commandLink action="#{userData.changeLanguage('en')}" ><h:graphicImage value="/resources/images/en.png" width="20" height="14" style="float:right; border-spacing: 20px;padding-left: 10px"/></h:commandLink>
            </h:form>
            
            <h:outputText value="#{msg['title']}" style="margin:15px; font-size:32px; display: flex;justify-content: center;"/>
            
            <h:outputText value="#{msg['about']}" escape="false" />
            <h:graphicImage  value="/resources/images/DTA_preview.PNG" width="40%" style="float:right; border-spacing: 20px;padding-left: 10px"/>
            <h:outputText value="#{msg['howto']}" escape="false" />
            
            <h:form id="size_form" enctype="multipart/form-data">
            <h:outputText value="#{msg['select_base']}" escape="false" />
                <h:selectOneMenu value="#{BaseSelector.link}">
                   <f:selectItem itemValue="http://diana.zesoi.fer.hr/~jpetrovic/case_repository/car_starting/" itemLabel="Car Starting Problem" />
                   <f:selectItem itemValue="http://diana.zesoi.fer.hr/~jpetrovic/case_repository/lan/" itemLabel="LAN Misconfiguration Diagnosis (v2)" />
                   <f:selectItem itemValue="http://diana.zesoi.fer.hr/~jpetrovic/case_repository/lan_pon/" itemLabel="LAN Misconfiguration Diagnosis (v1)" />
                </h:selectOneMenu>
            <br />

                <h:inputFile label="#{msg['browse']}" title="#{msg['browse']}" id="file" value="#{Uploader.file}" validator="#{Uploader.validateFile}"  />
                <h:inputHidden id="height" value="#{WindowSize.height}" />
                <h:inputHidden id="width" value="#{WindowSize.width}" />
                
                <h:commandButton value="#{msg['upload_and_run']}" onclick="set_screen_size('size_form');" type="submit" />
                
            </h:form>
        </f:view>
    </h:body>
</html>

